@(Error)(Attention!)(The following Feature Integration guide expects the basic feature to be in place. The current Feature Integration guide only adds the **Warehouse Management** functionality.)

## Install Feature Core
### Prerequisites
To start feature integration, overview and install the necessary features:

| Name | Version |
| --- | --- |
| Spryker Core | 201911.0 |

### 1) Install the Required Modules Using Composer
Run the following command to install the required modules:

```bash
composer require spryker-feature/inventory-management: "^201911.0" --update-with-dependencies
```

@(Warning)(Verification)(Make sure that the following modules are installed:<table><thead><tr><th>Module</th><th>Expected Directory</th></tr></thead><tbody><tr><td>`Stock`</td><td>`vendor/spryker/stock`</td></tr><tr><td>`StockDataImport`</td><td>`vendor/spryker/stock-data-import`</td></tr><tr><td>`StockGui`</td><td>`vendor/spryker/stock-gui`</td></tr></tbody></table>)

### 2) Set up Database Schema and Transfer Objects
Run the following commands to generate transfer changes:

```bash
console transfer:generate
console propel:install
```

<section contenteditable="false" class="warningBox"><div class="content">

**Verfication**
Make sure that the following changes have been applied in transfer objects:
    
| Transfer | Type | Event | Path |
| --- | --- | --- | --- |
| `StockTransfer` | class | added | `src/Generated/Shared/Transfer/StockTransfer.php` |
| `StockCriteriaFilterTransfer` | class | added | `src/Generated/Shared/Transfer/StockCriteriaFilterTransfer.php` |
| `StockResponseTransfer` | class | added | `src/Generated/Shared/Transfer/StockResponseTransfer.php` |
    
</div></section>

<section contenteditable="false" class="warningBox"><div class="content">

**Verfication**
Make sure that the following changes have been applied by checking your database:
    
| Database Entity | Type | Event |
| --- | --- | --- | 
| `spy_stock_store` | table | added | 
| `spy_stock.is_active	` | column | added | 
</div></section>

### 3) Import Data
#### Import Warehouses
Prepare your data according to your requirements using our demo data:

<details open>
   <summary>vendor/spryker/spryker/Bundles/StockDataImport/data/import/warehouse.csv</summary>

```yaml
name,is_active
Warehouse1,1
Warehouse2,1
Warehouse3,0
```
    
</br>
</details>

| Column | Is Obligatory? | Data Type | Data Example | Data Explanation |
| --- | --- | --- | --- | --- |
| name | mandatory | string | Warehouse1 | Name of the warehouse. |
| is_active | mandatory | bool | 1 | Is the warehouse activated? |

<details open>
<summary>vendor/spryker/spryker/Bundles/StockDataImport/data/import/warehouse_store.csv</summary>

```yaml
warehouse_name,store_name
Warehouse1,DE
Warehouse2,DE
Warehouse2,AT
Warehouse2,US
```
    
</br>
</details>

| Column | Is Obligatory? | Data Type | Data Example | Data Explanation |
| --- | --- | --- | --- | --- |
| warehouse_name | mandatory | string | Warehouse1 | Name of the warehouse. |
| store_name | mandatory | string | DE | Name of the store in which the warehouse is available. |

Register the following plugins to enable data import:

| Plugin | Specification | Prerequisites | Namespace |
| --- | --- | --- | --- |
| `StockDataImportPlugin` | Imports warehouses data into the database. | None | `\Spryker\Zed\StockDataImport\Communication\Plugin` |
| `StockStoreDataImportPlugin` | Imports data about the relationship between warehouses and stores into the database. | None | `\Spryker\Zed\StockDataImport\Communication\Plugin` |

<details open>
<summary>src/Pyz/Zed/DataImport/DataImportDependencyProvider.php</summary>

```php
<?php
 
namespace Pyz\Zed\DataImport;
 
use Spryker\Zed\DataImport\DataImportDependencyProvider as SprykerDataImportDependencyProvider;
use Spryker\Zed\StockDataImport\Communication\Plugin\StockDataImportPlugin;
use Spryker\Zed\StockDataImport\Communication\Plugin\StockStoreDataImportPlugin;
 
class DataImportDependencyProvider extends SprykerDataImportDependencyProvider
{
    /**
     * @return array
     */
    protected function getDataImporterPlugins(): array
    {
        return [
            new StockDataImportPlugin(),
            new StockStoreDataImportPlugin(),
        ];
    }
}
```

</br>
</details>

Run the following console command to import data:

```bash
console data:import stock
console data:import stock-store
```

@(Warning)(Verification)(Make sure that warehouse data has been added to the `spy_stock`, and `spy_stock_store` tables in the database.)

### 4) Set up Behavior
Run the following command to build navigation cache:

```bash
vendor/bin/console navigation:build-cache
```
@(Warning)(Verification)(Make sure that the navigation for Stock GUI has been successfully generated by checking that in the Back Office, the **Administration** menu with the **Warehouses** submenu is present in the left-side navigation bar.)

**Related features**

| Feature | Link |
| --- | --- |
| Inventory Management API | GLUE: Inventory Management Feature Integration <!-- https://spryker.atlassian.net/wiki/spaces/DOCS/pages/621773121/GLUE+Inventory+Management+Feature+Integration+-+ongoing --> |
| Alternative Products | Alternative Products + Inventory Management Feature Integration <!-- https://spryker.atlassian.net/wiki/spaces/DOCS/pages/913604633/Alternative+Products+Inventory+Management+Feature+Integration+-+ongoing --> |